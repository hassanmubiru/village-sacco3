(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8356],{38:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>d});var n=i(5155),l=i(2045),r=i(2099),t=i(2115);function d(){var e,s,i,d;let a=(0,l.G)(e=>e.auth),[o,c]=(0,t.useState)(null),[h,x]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{let{data:{session:e}}=await r.ND.auth.getSession();console.log("Supabase session:",e),c(e),x(!1)})()},[]),h)?(0,n.jsx)("div",{className:"p-8",children:"Loading session info..."}):(0,n.jsx)("div",{className:"min-h-screen bg-gray-100 p-8",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Session Test Page"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Redux Auth State"}),(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Is Authenticated:"})," ",a.isAuthenticated?"Yes":"No"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Loading:"})," ",a.loading?"Yes":"No"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Error:"})," ",a.error||"None"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"User ID:"})," ",(null==(e=a.user)?void 0:e.id)||"None"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"User Role:"})," ",(null==(s=a.user)?void 0:s.role)||"None"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Token Present:"})," ",a.token?"Yes":"No"]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Supabase Session"}),(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Session Exists:"})," ",o?"Yes":"No"]}),o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"User ID:"})," ",null==(i=o.user)?void 0:i.id]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Email:"})," ",null==(d=o.user)?void 0:d.email]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Access Token:"})," ",o.access_token?"Present":"None"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Expires At:"})," ",o.expires_at?new Date(1e3*o.expires_at).toLocaleString():"None"]})]})]})]})]}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Full Redux User Object"}),(0,n.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-xs overflow-auto",children:JSON.stringify(a.user,null,2)})]}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Full Supabase Session"}),(0,n.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-xs overflow-auto",children:JSON.stringify(o,null,2)})]}),(0,n.jsxs)("div",{className:"mt-6 space-x-4",children:[(0,n.jsx)("button",{onClick:()=>{window.location.href="/dashboard"},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Test Dashboard Access"}),(0,n.jsx)("button",{onClick:()=>window.location.href="/login",className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Back to Login"})]})]})})}},2045:(e,s,i)=>{"use strict";i.d(s,{G:()=>r,j:()=>l});var n=i(3415);let l=()=>(0,n.wA)(),r=n.d4},2099:(e,s,i)=>{"use strict";i.d(s,{ND:()=>t});var n=i(5647);i(9509);let l="https://zvelgxclmqgohntjimyf.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2ZWxneGNsbXFnb2hudGppbXlmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyOTkzMDUsImV4cCI6MjA2NDg3NTMwNX0.CFdW-XH8y7hkOm7LUtqQxs36hPTRBYtha4EIeRhIXto";if(!l||!r)throw Error("Missing Supabase environment variables");let t=(0,n.UU)(l,r,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{fetch:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{...s,signal:AbortSignal.timeout(3e4)})}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}})},6791:(e,s,i)=>{Promise.resolve().then(i.bind(i,38))}},e=>{e.O(0,[3415,9641,5647,8441,5964,7358],()=>e(e.s=6791)),_N_E=e.O()}]);