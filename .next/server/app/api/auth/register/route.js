/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/register/route";
exports.ids = ["app/api/auth/register/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.ts&appDir=%2Fhome%2Ferror51%2Fbitnob%2Fproject%2Fvillage-sacco%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Ferror51%2Fbitnob%2Fproject%2Fvillage-sacco&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.ts&appDir=%2Fhome%2Ferror51%2Fbitnob%2Fproject%2Fvillage-sacco%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Ferror51%2Fbitnob%2Fproject%2Fvillage-sacco&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _home_error51_bitnob_project_village_sacco_src_app_api_auth_register_route_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/app/api/auth/register/route.ts */ \"(rsc)/./src/app/api/auth/register/route.ts\");\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/register/route\",\n        pathname: \"/api/auth/register\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/register/route\"\n    },\n    resolvedPagePath: \"/home/error51/bitnob/project/village-sacco/src/app/api/auth/register/route.ts\",\n    nextConfigOutput,\n    userland: _home_error51_bitnob_project_village_sacco_src_app_api_auth_register_route_ts__WEBPACK_IMPORTED_MODULE_2__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/auth/register/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGcmVnaXN0ZXIlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZyZWdpc3RlciUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZyZWdpc3RlciUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGZXJyb3I1MSUyRmJpdG5vYiUyRnByb2plY3QlMkZ2aWxsYWdlLXNhY2NvJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGZXJyb3I1MSUyRmJpdG5vYiUyRnByb2plY3QlMkZ2aWxsYWdlLXNhY2NvJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUMyQztBQUMxRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWxsYWdlLXNhY2NvLz84OTkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL2Vycm9yNTEvYml0bm9iL3Byb2plY3QvdmlsbGFnZS1zYWNjby9zcmMvYXBwL2FwaS9hdXRoL3JlZ2lzdGVyL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL3JlZ2lzdGVyL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9yZWdpc3RlclwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aC9yZWdpc3Rlci9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL2Vycm9yNTEvYml0bm9iL3Byb2plY3QvdmlsbGFnZS1zYWNjby9zcmMvYXBwL2FwaS9hdXRoL3JlZ2lzdGVyL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2F1dGgvcmVnaXN0ZXIvcm91dGVcIjtcbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.ts&appDir=%2Fhome%2Ferror51%2Fbitnob%2Fproject%2Fvillage-sacco%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Ferror51%2Fbitnob%2Fproject%2Fvillage-sacco&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/register/route.ts":
/*!********************************************!*\
  !*** ./src/app/api/auth/register/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/supabase */ \"(rsc)/./src/lib/supabase.ts\");\n/* harmony import */ var _services_bitnob_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../services/bitnob.service */ \"(rsc)/./src/services/bitnob.service.ts\");\n\n\n\nasync function POST(request) {\n    try {\n        const { name, email, phone, password } = await request.json();\n        // Basic validation\n        if (!name || !email || !phone || !password) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"All fields are required\"\n            }, {\n                status: 400\n            });\n        }\n        if (password.length < 6) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Password must be at least 6 characters long\"\n            }, {\n                status: 400\n            });\n        }\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.createServerSupabaseClient)();\n        const [firstName, ...lastNameParts] = name.split(\" \");\n        const lastName = lastNameParts.join(\" \") || \"\";\n        // Create user in Supabase Auth\n        const { data: authData, error: authError } = await supabase.auth.admin.createUser({\n            email,\n            password,\n            email_confirm: true\n        });\n        if (authError) {\n            console.error(\"Supabase auth error:\", authError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Failed to create user account: \" + authError.message\n            }, {\n                status: 400\n            });\n        }\n        if (!authData.user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"User creation failed - no user data returned\"\n            }, {\n                status: 400\n            });\n        }\n        try {\n            // First, create user profile in database with server client (has admin privileges)\n            const { data: user, error: userError } = await supabase.from(\"users\").insert({\n                id: authData.user.id,\n                email,\n                first_name: firstName,\n                last_name: lastName,\n                phone,\n                kyc_status: \"not_started\",\n                is_active: true\n            }).select().single();\n            if (userError) {\n                console.error(\"User profile creation error:\", userError);\n                // Clean up auth user if profile creation fails\n                await supabase.auth.admin.deleteUser(authData.user.id);\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    message: \"Failed to create user profile: \" + userError.message\n                }, {\n                    status: 400\n                });\n            }\n            // Try to create Bitcoin wallet with Bitnob (optional)\n            let bitnobWalletId = null;\n            try {\n                const bitnobWallet = await _services_bitnob_service__WEBPACK_IMPORTED_MODULE_2__.bitnobService.createWallet({\n                    email: email,\n                    firstName,\n                    lastName,\n                    phoneNumber: phone\n                });\n                bitnobWalletId = bitnobWallet.id;\n                // Update user with wallet ID\n                await supabase.from(\"users\").update({\n                    bitnob_wallet_id: bitnobWalletId\n                }).eq(\"id\", authData.user.id);\n            } catch (bitnobError) {\n                console.warn(\"Bitnob wallet creation failed (non-critical):\", bitnobError);\n            // Don't fail registration if wallet creation fails\n            }\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                message: bitnobWalletId ? \"Registration successful with Bitcoin wallet\" : \"Registration successful (Bitcoin wallet will be created later)\",\n                user: {\n                    id: user.id,\n                    email: user.email,\n                    name: `${user.first_name} ${user.last_name}`,\n                    phone: user.phone,\n                    role: \"member\",\n                    bitnobWalletId: bitnobWalletId,\n                    kycStatus: user.kyc_status,\n                    created_at: user.created_at\n                }\n            }, {\n                status: 201\n            });\n        } catch (registrationError) {\n            console.error(\"Registration error:\", registrationError);\n            // Clean up auth user if anything fails\n            await supabase.auth.admin.deleteUser(authData.user.id);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Registration failed: \" + (registrationError instanceof Error ? registrationError.message : \"Unknown error\")\n            }, {\n                status: 400\n            });\n        }\n    } catch (error) {\n        console.error(\"Registration error:\", error);\n        // Handle specific network timeout errors\n        if (error instanceof TypeError && error.message === \"fetch failed\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Network connection timeout. Please check your internet connection and try again.\"\n            }, {\n                status: 503\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL3JlZ2lzdGVyL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0Q7QUFDYztBQUVGO0FBRTdELGVBQWVHLEtBQUtDLE9BQW9CO0lBQzdDLElBQUk7UUFDRixNQUFNLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRSxHQUFHLE1BQU1KLFFBQVFLLElBQUk7UUFFM0QsbUJBQW1CO1FBQ25CLElBQUksQ0FBQ0osUUFBUSxDQUFDQyxTQUFTLENBQUNDLFNBQVMsQ0FBQ0MsVUFBVTtZQUMxQyxPQUFPUixrRkFBWUEsQ0FBQ1MsSUFBSSxDQUN0QjtnQkFBRUMsU0FBUztZQUEwQixHQUNyQztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsSUFBSUgsU0FBU0ksTUFBTSxHQUFHLEdBQUc7WUFDdkIsT0FBT1osa0ZBQVlBLENBQUNTLElBQUksQ0FDdEI7Z0JBQUVDLFNBQVM7WUFBOEMsR0FDekQ7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU1FLFdBQVdaLHlFQUEwQkE7UUFDM0MsTUFBTSxDQUFDYSxXQUFXLEdBQUdDLGNBQWMsR0FBR1YsS0FBS1csS0FBSyxDQUFDO1FBQ2pELE1BQU1DLFdBQVdGLGNBQWNHLElBQUksQ0FBQyxRQUFRO1FBRTVDLCtCQUErQjtRQUMvQixNQUFNLEVBQUVDLE1BQU1DLFFBQVEsRUFBRUMsT0FBT0MsU0FBUyxFQUFFLEdBQUcsTUFBTVQsU0FBU1UsSUFBSSxDQUFDQyxLQUFLLENBQUNDLFVBQVUsQ0FBQztZQUNoRm5CO1lBQ0FFO1lBQ0FrQixlQUFlO1FBQ2pCO1FBRUEsSUFBSUosV0FBVztZQUNiSyxRQUFRTixLQUFLLENBQUMsd0JBQXdCQztZQUN0QyxPQUFPdEIsa0ZBQVlBLENBQUNTLElBQUksQ0FDdEI7Z0JBQUVDLFNBQVMsb0NBQW9DWSxVQUFVWixPQUFPO1lBQUMsR0FDakU7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLElB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UTtZQUFJO1FBRWxCO1FBRUEsT0FBT1gsa0ZBQVlBLENBQUNTLElBQUksQ0FDdEI7WUFBRUMsU0FBUztRQUF3QixHQUNuQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpbGxhZ2Utc2FjY28vLi9zcmMvYXBwL2FwaS9hdXRoL3JlZ2lzdGVyL3JvdXRlLnRzP2U4MDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGNyZWF0ZVNlcnZlclN1cGFiYXNlQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL3N1cGFiYXNlJztcbmltcG9ydCB7IFVzZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2VydmljZXMvdXNlci5zZXJ2aWNlJztcbmltcG9ydCB7IGJpdG5vYlNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9zZXJ2aWNlcy9iaXRub2Iuc2VydmljZSc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBuYW1lLCBlbWFpbCwgcGhvbmUsIHBhc3N3b3JkIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcblxuICAgIC8vIEJhc2ljIHZhbGlkYXRpb25cbiAgICBpZiAoIW5hbWUgfHwgIWVtYWlsIHx8ICFwaG9uZSB8fCAhcGFzc3dvcmQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBtZXNzYWdlOiAnQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAocGFzc3dvcmQubGVuZ3RoIDwgNikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IG1lc3NhZ2U6ICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDYgY2hhcmFjdGVycyBsb25nJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJTdXBhYmFzZUNsaWVudCgpO1xuICAgIGNvbnN0IFtmaXJzdE5hbWUsIC4uLmxhc3ROYW1lUGFydHNdID0gbmFtZS5zcGxpdCgnICcpO1xuICAgIGNvbnN0IGxhc3ROYW1lID0gbGFzdE5hbWVQYXJ0cy5qb2luKCcgJykgfHwgJyc7XG5cbiAgICAvLyBDcmVhdGUgdXNlciBpbiBTdXBhYmFzZSBBdXRoXG4gICAgY29uc3QgeyBkYXRhOiBhdXRoRGF0YSwgZXJyb3I6IGF1dGhFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5hZG1pbi5jcmVhdGVVc2VyKHtcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBlbWFpbF9jb25maXJtOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgaWYgKGF1dGhFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgYXV0aCBlcnJvcjonLCBhdXRoRXJyb3IpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gY3JlYXRlIHVzZXIgYWNjb3VudDogJyArIGF1dGhFcnJvci5tZXNzYWdlIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIWF1dGhEYXRhLnVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBtZXNzYWdlOiAnVXNlciBjcmVhdGlvbiBmYWlsZWQgLSBubyB1c2VyIGRhdGEgcmV0dXJuZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gRmlyc3QsIGNyZWF0ZSB1c2VyIHByb2ZpbGUgaW4gZGF0YWJhc2Ugd2l0aCBzZXJ2ZXIgY2xpZW50IChoYXMgYWRtaW4gcHJpdmlsZWdlcylcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlciwgZXJyb3I6IHVzZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgaWQ6IGF1dGhEYXRhLnVzZXIuaWQsXG4gICAgICAgICAgZW1haWwsXG4gICAgICAgICAgZmlyc3RfbmFtZTogZmlyc3ROYW1lLFxuICAgICAgICAgIGxhc3RfbmFtZTogbGFzdE5hbWUsXG4gICAgICAgICAgcGhvbmUsXG4gICAgICAgICAga3ljX3N0YXR1czogJ25vdF9zdGFydGVkJyxcbiAgICAgICAgICBpc19hY3RpdmU6IHRydWUsXG4gICAgICAgIH0pXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmICh1c2VyRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignVXNlciBwcm9maWxlIGNyZWF0aW9uIGVycm9yOicsIHVzZXJFcnJvcik7XG4gICAgICAgIC8vIENsZWFuIHVwIGF1dGggdXNlciBpZiBwcm9maWxlIGNyZWF0aW9uIGZhaWxzXG4gICAgICAgIGF3YWl0IHN1cGFiYXNlLmF1dGguYWRtaW4uZGVsZXRlVXNlcihhdXRoRGF0YS51c2VyLmlkKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgbWVzc2FnZTogJ0ZhaWxlZCB0byBjcmVhdGUgdXNlciBwcm9maWxlOiAnICsgdXNlckVycm9yLm1lc3NhZ2UgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gVHJ5IHRvIGNyZWF0ZSBCaXRjb2luIHdhbGxldCB3aXRoIEJpdG5vYiAob3B0aW9uYWwpXG4gICAgICBsZXQgYml0bm9iV2FsbGV0SWQgPSBudWxsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYml0bm9iV2FsbGV0ID0gYXdhaXQgYml0bm9iU2VydmljZS5jcmVhdGVXYWxsZXQoe1xuICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgICAgcGhvbmVOdW1iZXI6IHBob25lLFxuICAgICAgICB9KTtcbiAgICAgICAgYml0bm9iV2FsbGV0SWQgPSBiaXRub2JXYWxsZXQuaWQ7XG5cbiAgICAgICAgLy8gVXBkYXRlIHVzZXIgd2l0aCB3YWxsZXQgSURcbiAgICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAgIC51cGRhdGUoeyBiaXRub2Jfd2FsbGV0X2lkOiBiaXRub2JXYWxsZXRJZCB9KVxuICAgICAgICAgIC5lcSgnaWQnLCBhdXRoRGF0YS51c2VyLmlkKTtcbiAgICAgIH0gY2F0Y2ggKGJpdG5vYkVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQml0bm9iIHdhbGxldCBjcmVhdGlvbiBmYWlsZWQgKG5vbi1jcml0aWNhbCk6JywgYml0bm9iRXJyb3IpO1xuICAgICAgICAvLyBEb24ndCBmYWlsIHJlZ2lzdHJhdGlvbiBpZiB3YWxsZXQgY3JlYXRpb24gZmFpbHNcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogYml0bm9iV2FsbGV0SWQgXG4gICAgICAgICAgPyAnUmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwgd2l0aCBCaXRjb2luIHdhbGxldCdcbiAgICAgICAgICA6ICdSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCAoQml0Y29pbiB3YWxsZXQgd2lsbCBiZSBjcmVhdGVkIGxhdGVyKScsXG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICBuYW1lOiBgJHt1c2VyLmZpcnN0X25hbWV9ICR7dXNlci5sYXN0X25hbWV9YCxcbiAgICAgICAgICBwaG9uZTogdXNlci5waG9uZSxcbiAgICAgICAgICByb2xlOiAnbWVtYmVyJyxcbiAgICAgICAgICBiaXRub2JXYWxsZXRJZDogYml0bm9iV2FsbGV0SWQsXG4gICAgICAgICAga3ljU3RhdHVzOiB1c2VyLmt5Y19zdGF0dXMsXG4gICAgICAgICAgY3JlYXRlZF9hdDogdXNlci5jcmVhdGVkX2F0LFxuICAgICAgICB9LFxuICAgICAgfSwgeyBzdGF0dXM6IDIwMSB9KTtcblxuICAgIH0gY2F0Y2ggKHJlZ2lzdHJhdGlvbkVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWdpc3RyYXRpb24gZXJyb3I6JywgcmVnaXN0cmF0aW9uRXJyb3IpO1xuICAgICAgLy8gQ2xlYW4gdXAgYXV0aCB1c2VyIGlmIGFueXRoaW5nIGZhaWxzXG4gICAgICBhd2FpdCBzdXBhYmFzZS5hdXRoLmFkbWluLmRlbGV0ZVVzZXIoYXV0aERhdGEudXNlci5pZCk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ1JlZ2lzdHJhdGlvbiBmYWlsZWQ6ICcgKyAocmVnaXN0cmF0aW9uRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IHJlZ2lzdHJhdGlvbkVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicpIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdSZWdpc3RyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIFxuICAgIC8vIEhhbmRsZSBzcGVjaWZpYyBuZXR3b3JrIHRpbWVvdXQgZXJyb3JzXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yICYmIGVycm9yLm1lc3NhZ2UgPT09ICdmZXRjaCBmYWlsZWQnKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ05ldHdvcmsgY29ubmVjdGlvbiB0aW1lb3V0LiBQbGVhc2UgY2hlY2sgeW91ciBpbnRlcm5ldCBjb25uZWN0aW9uIGFuZCB0cnkgYWdhaW4uJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAzIH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVTZXJ2ZXJTdXBhYmFzZUNsaWVudCIsImJpdG5vYlNlcnZpY2UiLCJQT1NUIiwicmVxdWVzdCIsIm5hbWUiLCJlbWFpbCIsInBob25lIiwicGFzc3dvcmQiLCJqc29uIiwibWVzc2FnZSIsInN0YXR1cyIsImxlbmd0aCIsInN1cGFiYXNlIiwiZmlyc3ROYW1lIiwibGFzdE5hbWVQYXJ0cyIsInNwbGl0IiwibGFzdE5hbWUiLCJqb2luIiwiZGF0YSIsImF1dGhEYXRhIiwiZXJyb3IiLCJhdXRoRXJyb3IiLCJhdXRoIiwiYWRtaW4iLCJjcmVhdGVVc2VyIiwiZW1haWxfY29uZmlybSIsImNvbnNvbGUiLCJ1c2VyIiwidXNlckVycm9yIiwiZnJvbSIsImluc2VydCIsImlkIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImt5Y19zdGF0dXMiLCJpc19hY3RpdmUiLCJzZWxlY3QiLCJzaW5nbGUiLCJkZWxldGVVc2VyIiwiYml0bm9iV2FsbGV0SWQiLCJiaXRub2JXYWxsZXQiLCJjcmVhdGVXYWxsZXQiLCJwaG9uZU51bWJlciIsInVwZGF0ZSIsImJpdG5vYl93YWxsZXRfaWQiLCJlcSIsImJpdG5vYkVycm9yIiwid2FybiIsInN1Y2Nlc3MiLCJyb2xlIiwia3ljU3RhdHVzIiwiY3JlYXRlZF9hdCIsInJlZ2lzdHJhdGlvbkVycm9yIiwiRXJyb3IiLCJUeXBlRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/register/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase.ts":
/*!*****************************!*\
  !*** ./src/lib/supabase.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRealtimeSubscription: () => (/* binding */ createRealtimeSubscription),\n/* harmony export */   createServerSupabaseClient: () => (/* binding */ createServerSupabaseClient),\n/* harmony export */   handleSupabaseError: () => (/* binding */ handleSupabaseError),\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://zvelgxclmqgohntjimyf.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2ZWxneGNsbXFnb2hudGppbXlmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyOTkzMDUsImV4cCI6MjA2NDg3NTMwNX0.CFdW-XH8y7hkOm7LUtqQxs36hPTRBYtha4EIeRhIXto\";\nif (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\"Missing Supabase environment variables\");\n}\n// Client-side Supabase client\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey, {\n    auth: {\n        autoRefreshToken: true,\n        persistSession: true,\n        detectSessionInUrl: true\n    },\n    global: {\n        fetch: (url, options = {})=>{\n            return fetch(url, {\n                ...options,\n                // Increase timeout to 30 seconds\n                signal: AbortSignal.timeout(30000)\n            });\n        }\n    },\n    db: {\n        schema: \"public\"\n    },\n    realtime: {\n        params: {\n            eventsPerSecond: 10\n        }\n    }\n});\n// Server-side Supabase client (for API routes)\nconst createServerSupabaseClient = ()=>{\n    const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    if (!serviceRoleKey) {\n        throw new Error(\"Missing SUPABASE_SERVICE_ROLE_KEY environment variable\");\n    }\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, serviceRoleKey, {\n        auth: {\n            autoRefreshToken: false,\n            persistSession: false\n        }\n    });\n};\n// Helper function to handle Supabase errors\nconst handleSupabaseError = (error)=>{\n    console.error(\"Supabase error:\", error);\n    if (error?.code === \"PGRST116\") {\n        return \"No data found\";\n    }\n    if (error?.code === \"23505\") {\n        return \"Record already exists\";\n    }\n    if (error?.code === \"23503\") {\n        return \"Referenced record not found\";\n    }\n    return error?.message || \"An unexpected error occurred\";\n};\n// Real-time subscription helper\nconst createRealtimeSubscription = (table, filter, callback)=>{\n    return supabase.channel(`realtime-${table}`).on(\"postgres_changes\", {\n        event: \"*\",\n        schema: \"public\",\n        table,\n        filter\n    }, callback || ((payload)=>console.log(\"Realtime update:\", payload))).subscribe();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXFEO0FBR3JELE1BQU1DLGNBQWNDLDBDQUFvQztBQUN4RCxNQUFNRyxrQkFBa0JILGtOQUF5QztBQUVqRSxJQUFJLENBQUNELGVBQWUsQ0FBQ0ksaUJBQWlCO0lBQ3BDLE1BQU0sSUFBSUUsTUFBTTtBQUNsQjtBQUVBLDhCQUE4QjtBQUN2QixNQUFNQyxXQUFXUixtRUFBWUEsQ0FBV0MsYUFBYUksaUJBQWlCO0lBQzNFSSxNQUFNO1FBQ0pDLGtCQUFrQjtRQUNsQkMsZ0JBQWdCO1FBQ2hCQyxvQkFBb0I7SUFDdEI7SUFDQUMsUUFBUTtRQUNOQyxPQUFPLENBQUNDLEtBQUtDLFVBQVUsQ0FBQyxDQUFDO1lBQ3ZCLE9BQU9GLE1BQU1DLEtBQUs7Z0JBQ2hCLEdBQUdDLE9BQU87Z0JBQ1YsaUNBQWlDO2dCQUNqQ0MsUUFBUUMsWUFBWUMsT0FBTyxDQUFDO1lBQzlCO1FBQ0Y7SUFDRjtJQUNBQyxJQUFJO1FBQ0ZDLFFBQVE7SUFDVjtJQUNBQyxVQUFVO1FBQ1JDLFFBQVE7WUFDTkMsaUJBQWlCO1FBQ25CO0lBQ0Y7QUFDRixHQUFHO0FBRUgsK0NBQStDO0FBQ3hDLE1BQU1DLDZCQUE2QjtJQUN4QyxNQUFNQyxpQkFBaUJ4QixRQUFRQyxHQUFHLENBQUN3Qix5QkFBeUI7SUFFNUQsSUFBSSxDQUFDRCxnQkFBZ0I7UUFDbkIsTUFBTSxJQUFJbkIsTUFBTTtJQUNsQjtJQUVBLE9BQU9QLG1FQUFZQSxDQUFXQyxhQUFheUIsZ0JBQWdCO1FBQ3pEakIsTUFBTTtZQUNKQyxrQkFBa0I7WUFDbEJDLGdCQUFnQjtRQUNsQjtJQUNGO0FBQ0YsRUFBRTtBQUVGLDRDQUE0QztBQUNyQyxNQUFNaUIsc0JBQXNCLENBQUNDO0lBQ2xDQyxRQUFRRCxLQUFLLENBQUMsbUJBQW1CQTtJQUVqQyxJQUFJQSxPQUFPRSxTQUFTLFlBQVk7UUFDOUIsT0FBTztJQUNUO0lBRUEsSUFBSUYsT0FBT0UsU0FBUyxTQUFTO1FBQzNCLE9BQU87SUFDVDtJQUVBLElBQUlGLE9BQU9FLFNBQVMsU0FBUztRQUMzQixPQUFPO0lBQ1Q7SUFFQSxPQUFPRixPQUFPRyxXQUFXO0FBQzNCLEVBQUU7QUFFRixnQ0FBZ0M7QUFDekIsTUFBTUMsNkJBQTZCLENBQ3hDQyxPQUNBQyxRQUNBQztJQUVBLE9BQU81QixTQUNKNkIsT0FBTyxDQUFDLENBQUMsU0FBUyxFQUFFSCxNQUFNLENBQUMsRUFDM0JJLEVBQUUsQ0FDRCxvQkFDQTtRQUNFQyxPQUFPO1FBQ1BsQixRQUFRO1FBQ1JhO1FBQ0FDO0lBQ0YsR0FDQUMsWUFBYSxFQUFDSSxVQUFZVixRQUFRVyxHQUFHLENBQUMsb0JBQW9CRCxRQUFPLEdBRWxFRSxTQUFTO0FBQ2QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpbGxhZ2Utc2FjY28vLi9zcmMvbGliL3N1cGFiYXNlLnRzPzA2ZTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCE7XG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSE7XG5cbmlmICghc3VwYWJhc2VVcmwgfHwgIXN1cGFiYXNlQW5vbktleSkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgU3VwYWJhc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzJyk7XG59XG5cbi8vIENsaWVudC1zaWRlIFN1cGFiYXNlIGNsaWVudFxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50PERhdGFiYXNlPihzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5LCB7XG4gIGF1dGg6IHtcbiAgICBhdXRvUmVmcmVzaFRva2VuOiB0cnVlLFxuICAgIHBlcnNpc3RTZXNzaW9uOiB0cnVlLFxuICAgIGRldGVjdFNlc3Npb25JblVybDogdHJ1ZSxcbiAgfSxcbiAgZ2xvYmFsOiB7XG4gICAgZmV0Y2g6ICh1cmwsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgcmV0dXJuIGZldGNoKHVybCwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAvLyBJbmNyZWFzZSB0aW1lb3V0IHRvIDMwIHNlY29uZHNcbiAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KDMwMDAwKSxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0sXG4gIGRiOiB7XG4gICAgc2NoZW1hOiAncHVibGljJyxcbiAgfSxcbiAgcmVhbHRpbWU6IHtcbiAgICBwYXJhbXM6IHtcbiAgICAgIGV2ZW50c1BlclNlY29uZDogMTAsXG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vLyBTZXJ2ZXItc2lkZSBTdXBhYmFzZSBjbGllbnQgKGZvciBBUEkgcm91dGVzKVxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNlcnZlclN1cGFiYXNlQ2xpZW50ID0gKCkgPT4ge1xuICBjb25zdCBzZXJ2aWNlUm9sZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVk7XG4gIFxuICBpZiAoIXNlcnZpY2VSb2xlS2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUnKTtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVDbGllbnQ8RGF0YWJhc2U+KHN1cGFiYXNlVXJsLCBzZXJ2aWNlUm9sZUtleSwge1xuICAgIGF1dGg6IHtcbiAgICAgIGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlLFxuICAgICAgcGVyc2lzdFNlc3Npb246IGZhbHNlLFxuICAgIH0sXG4gIH0pO1xufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGhhbmRsZSBTdXBhYmFzZSBlcnJvcnNcbmV4cG9ydCBjb25zdCBoYW5kbGVTdXBhYmFzZUVycm9yID0gKGVycm9yOiBhbnkpID0+IHtcbiAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xuICBcbiAgaWYgKGVycm9yPy5jb2RlID09PSAnUEdSU1QxMTYnKSB7XG4gICAgcmV0dXJuICdObyBkYXRhIGZvdW5kJztcbiAgfVxuICBcbiAgaWYgKGVycm9yPy5jb2RlID09PSAnMjM1MDUnKSB7XG4gICAgcmV0dXJuICdSZWNvcmQgYWxyZWFkeSBleGlzdHMnO1xuICB9XG4gIFxuICBpZiAoZXJyb3I/LmNvZGUgPT09ICcyMzUwMycpIHtcbiAgICByZXR1cm4gJ1JlZmVyZW5jZWQgcmVjb3JkIG5vdCBmb3VuZCc7XG4gIH1cbiAgXG4gIHJldHVybiBlcnJvcj8ubWVzc2FnZSB8fCAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCc7XG59O1xuXG4vLyBSZWFsLXRpbWUgc3Vic2NyaXB0aW9uIGhlbHBlclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlYWx0aW1lU3Vic2NyaXB0aW9uID0gKFxuICB0YWJsZTogc3RyaW5nLFxuICBmaWx0ZXI/OiBzdHJpbmcsXG4gIGNhbGxiYWNrPzogKHBheWxvYWQ6IGFueSkgPT4gdm9pZFxuKSA9PiB7XG4gIHJldHVybiBzdXBhYmFzZVxuICAgIC5jaGFubmVsKGByZWFsdGltZS0ke3RhYmxlfWApXG4gICAgLm9uKFxuICAgICAgJ3Bvc3RncmVzX2NoYW5nZXMnLFxuICAgICAge1xuICAgICAgICBldmVudDogJyonLFxuICAgICAgICBzY2hlbWE6ICdwdWJsaWMnLFxuICAgICAgICB0YWJsZSxcbiAgICAgICAgZmlsdGVyLFxuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrIHx8ICgocGF5bG9hZCkgPT4gY29uc29sZS5sb2coJ1JlYWx0aW1lIHVwZGF0ZTonLCBwYXlsb2FkKSlcbiAgICApXG4gICAgLnN1YnNjcmliZSgpO1xufTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsIkVycm9yIiwic3VwYWJhc2UiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiZGV0ZWN0U2Vzc2lvbkluVXJsIiwiZ2xvYmFsIiwiZmV0Y2giLCJ1cmwiLCJvcHRpb25zIiwic2lnbmFsIiwiQWJvcnRTaWduYWwiLCJ0aW1lb3V0IiwiZGIiLCJzY2hlbWEiLCJyZWFsdGltZSIsInBhcmFtcyIsImV2ZW50c1BlclNlY29uZCIsImNyZWF0ZVNlcnZlclN1cGFiYXNlQ2xpZW50Iiwic2VydmljZVJvbGVLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiaGFuZGxlU3VwYWJhc2VFcnJvciIsImVycm9yIiwiY29uc29sZSIsImNvZGUiLCJtZXNzYWdlIiwiY3JlYXRlUmVhbHRpbWVTdWJzY3JpcHRpb24iLCJ0YWJsZSIsImZpbHRlciIsImNhbGxiYWNrIiwiY2hhbm5lbCIsIm9uIiwiZXZlbnQiLCJwYXlsb2FkIiwibG9nIiwic3Vic2NyaWJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/bitnob.service.ts":
/*!****************************************!*\
  !*** ./src/services/bitnob.service.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BitnobService: () => (/* binding */ BitnobService),\n/* harmony export */   bitnobService: () => (/* binding */ bitnobService),\n/* harmony export */   createBitnobService: () => (/* binding */ createBitnobService)\n/* harmony export */ });\n/**\n * Bitnob Service - Blockchain integration for SACCO platform\n * Handles Bitcoin Lightning Network payments, wallet operations, and KYC\n */ class BitnobService {\n    constructor(config){\n        this.config = config;\n        this.baseURL = config.baseURL || (config.environment === \"production\" ? \"https://api.bitnob.com\" : \"https://sandboxapi.bitnob.com\");\n    }\n    async makeRequest(endpoint, method = \"GET\", data) {\n        try {\n            // Create timeout controller\n            const controller = new AbortController();\n            const timeoutId = setTimeout(()=>controller.abort(), 10000); // 10 second timeout\n            const response = await fetch(`${this.baseURL}${endpoint}`, {\n                method,\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${this.config.apiKey}`,\n                    \"Accept\": \"application/json\"\n                },\n                body: data ? JSON.stringify(data) : undefined,\n                signal: controller.signal\n            });\n            clearTimeout(timeoutId);\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({}));\n                throw new Error(`Bitnob API Error: ${response.status} - ${errorData.message || response.statusText}`);\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"Bitnob Service Error:\", error);\n            // Handle specific network errors\n            if (error instanceof Error) {\n                if (error.message.includes(\"getaddrinfo ENOTFOUND\") || error.message.includes(\"fetch failed\")) {\n                    throw new Error(\"Bitnob service is currently unavailable. Please try again later.\");\n                }\n                if (error.name === \"AbortError\") {\n                    throw new Error(\"Bitnob service request timed out. Please try again.\");\n                }\n            }\n            throw error;\n        }\n    }\n    // Check if Bitnob service is available\n    async isServiceAvailable() {\n        try {\n            // Try a simple ping/health check\n            await this.makeRequest(\"/api/v1/ping\");\n            return true;\n        } catch (error) {\n            console.warn(\"Bitnob service unavailable:\", error);\n            return false;\n        }\n    }\n    // Authentication and User Management\n    async createWallet(userData) {\n        try {\n            // First check if service is available\n            const isAvailable = await this.isServiceAvailable();\n            if (!isAvailable) {\n                throw new Error(\"Bitnob service is currently unavailable\");\n            }\n            const response = await this.makeRequest(\"/api/v1/wallets/create\", \"POST\", {\n                phoneNumber: userData.phoneNumber,\n                email: userData.email,\n                firstName: userData.firstName,\n                lastName: userData.lastName,\n                dateOfBirth: userData.dateOfBirth,\n                address: userData.address\n            });\n            return response.data;\n        } catch (error) {\n            console.error(\"Bitnob wallet creation error:\", error);\n            throw new Error(`Wallet creation failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async getWalletDetails(walletId) {\n        try {\n            const response = await this.makeRequest(`/api/v1/wallets/${walletId}`);\n            return response.data;\n        } catch (error) {\n            throw new Error(`Failed to get wallet details: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async getWalletBalance(walletId) {\n        try {\n            const response = await this.makeRequest(`/api/v1/wallets/${walletId}/balance`);\n            return response.data;\n        } catch (error) {\n            throw new Error(`Balance inquiry failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    // Lightning Network Operations\n    async sendLightningPayment(paymentData) {\n        try {\n            const response = await this.makeRequest(\"/api/v1/lightning/send\", \"POST\", {\n                amount: paymentData.amount,\n                currency: paymentData.currency,\n                recipientId: paymentData.recipientId,\n                phoneNumber: paymentData.phoneNumber,\n                email: paymentData.email,\n                reference: paymentData.reference,\n                narration: paymentData.narration || \"SACCO Platform Payment\"\n            });\n            return response.data;\n        } catch (error) {\n            throw new Error(`Lightning payment failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async createLightningInvoice(invoiceData) {\n        try {\n            const response = await this.makeRequest(\"/api/v1/lightning/invoice\", \"POST\", {\n                amount: invoiceData.amount,\n                currency: invoiceData.currency,\n                reference: invoiceData.reference,\n                memo: invoiceData.memo || \"SACCO Platform Payment\",\n                expiresIn: invoiceData.expiresIn || 3600\n            });\n            return response.data;\n        } catch (error) {\n            throw new Error(`Invoice creation failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async payLightningInvoice(invoice, walletId) {\n        try {\n            const response = await this.makeRequest(\"/api/v1/lightning/pay\", \"POST\", {\n                invoice,\n                walletId\n            });\n            return response.data;\n        } catch (error) {\n            throw new Error(`Invoice payment failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    // Bitcoin On-Chain Operations\n    async sendBitcoin(paymentData) {\n        try {\n            const response = await this.makeRequest(\"/api/v1/bitcoin/send\", \"POST\", {\n                amount: paymentData.amount,\n                address: paymentData.address,\n                reference: paymentData.reference,\n                narration: paymentData.narration || \"SACCO Platform Payment\"\n            });\n            return response.data;\n        } catch (error) {\n            throw new Error(`Bitcoin transaction failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async generateBitcoinAddress(walletId) {\n        try {\n            const response = await this.makeRequest(`/api/v1/bitcoin/address/${walletId}`, \"POST\");\n            return response.data;\n        } catch (error) {\n            throw new Error(`Address generation failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    // KYC Operations\n    async submitKYC(kycData) {\n        try {\n            // Note: File uploads would need FormData instead of JSON\n            const formData = new FormData();\n            Object.entries(kycData).forEach(([key, value])=>{\n                if (value instanceof File) {\n                    formData.append(key, value);\n                } else if (value) {\n                    formData.append(key, value.toString());\n                }\n            });\n            const response = await fetch(`${this.baseURL}/api/v1/kyc/submit`, {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": `Bearer ${this.config.apiKey}`\n                },\n                body: formData\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({}));\n                throw new Error(`KYC submission failed: ${errorData.message || response.statusText}`);\n            }\n            const result = await response.json();\n            return result.data;\n        } catch (error) {\n            throw new Error(`KYC submission failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async getKYCStatus(userId) {\n        try {\n            const response = await this.makeRequest(`/api/v1/kyc/status/${userId}`);\n            return response.data;\n        } catch (error) {\n            throw new Error(`KYC status check failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    // Currency Conversion\n    async convertBTCToFiat(conversionData) {\n        try {\n            const response = await this.makeRequest(\"/api/v1/convert\", \"POST\", {\n                amount: conversionData.amount,\n                fromCurrency: conversionData.fromCurrency,\n                toCurrency: conversionData.toCurrency,\n                reference: conversionData.reference\n            });\n            return response.data;\n        } catch (error) {\n            throw new Error(`Conversion failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async getExchangeRates(baseCurrency = \"BTC\") {\n        try {\n            const response = await this.makeRequest(`/api/v1/rates?base=${baseCurrency}`);\n            return response.data;\n        } catch (error) {\n            throw new Error(`Failed to get exchange rates: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    // Transaction History\n    async getTransactionHistory(walletId, limit = 50, offset = 0) {\n        try {\n            const response = await this.makeRequest(`/api/v1/transactions?walletId=${walletId}&limit=${limit}&offset=${offset}`);\n            return response.data;\n        } catch (error) {\n            throw new Error(`Failed to get transaction history: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async getTransactionDetails(transactionId) {\n        try {\n            const response = await this.makeRequest(`/api/v1/transactions/${transactionId}`);\n            return response.data;\n        } catch (error) {\n            throw new Error(`Failed to get transaction details: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    // Webhook verification (for backend use)\n    verifyWebhookSignature(payload, signature, secret) {\n        // Implementation would depend on Bitnob's webhook signature method\n        // This is a placeholder for the actual verification logic\n        try {\n            const crypto = __webpack_require__(/*! crypto */ \"crypto\");\n            const expectedSignature = crypto.createHmac(\"sha256\", secret).update(payload).digest(\"hex\");\n            return crypto.timingSafeEqual(Buffer.from(signature, \"hex\"), Buffer.from(expectedSignature, \"hex\"));\n        } catch (error) {\n            console.error(\"Webhook signature verification failed:\", error);\n            return false;\n        }\n    }\n    // Health check\n    async healthCheck() {\n        try {\n            const response = await this.makeRequest(\"/api/v1/health\");\n            return response;\n        } catch (error) {\n            throw new Error(`Health check failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n}\n// Singleton instance for frontend use\nlet bitnobServiceInstance = null;\nfunction createBitnobService(config) {\n    if (!bitnobServiceInstance || config) {\n        const serviceConfig = config || {\n            apiKey: \"pk.e9dc8b598acf.8a2975318e1e4f001fbb964f6\" || 0,\n            environment: \"sandbox\" || 0,\n            baseURL: \"https://sandboxapi.bitnob.com\"\n        };\n        bitnobServiceInstance = new BitnobService(serviceConfig);\n    }\n    return bitnobServiceInstance;\n}\n// Default export for convenience\nconst bitnobService = createBitnobService();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SXpHLGNBQWMyRztJQUM1QztJQUVBLE9BQU9GO0FBQ1Q7QUFFQSxpQ0FBaUM7QUFDMUIsTUFBTVEsZ0JBQWdCUCxzQkFBc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWxsYWdlLXNhY2NvLy4vc3JjL3NlcnZpY2VzL2JpdG5vYi5zZXJ2aWNlLnRzP2QyOTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBCaXRub2IgU2VydmljZSAtIEJsb2NrY2hhaW4gaW50ZWdyYXRpb24gZm9yIFNBQ0NPIHBsYXRmb3JtXG4gKiBIYW5kbGVzIEJpdGNvaW4gTGlnaHRuaW5nIE5ldHdvcmsgcGF5bWVudHMsIHdhbGxldCBvcGVyYXRpb25zLCBhbmQgS1lDXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBCaXRub2JDb25maWcge1xuICBhcGlLZXk6IHN0cmluZztcbiAgZW52aXJvbm1lbnQ6ICdzYW5kYm94JyB8ICdwcm9kdWN0aW9uJztcbiAgYmFzZVVSTD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXYWxsZXREYXRhIHtcbiAgcGhvbmVOdW1iZXI6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgZmlyc3ROYW1lOiBzdHJpbmc7XG4gIGxhc3ROYW1lOiBzdHJpbmc7XG4gIGRhdGVPZkJpcnRoPzogc3RyaW5nO1xuICBhZGRyZXNzPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnREYXRhIHtcbiAgYW1vdW50OiBudW1iZXI7XG4gIGN1cnJlbmN5OiBzdHJpbmc7XG4gIHJlY2lwaWVudElkPzogc3RyaW5nO1xuICBwaG9uZU51bWJlcj86IHN0cmluZztcbiAgZW1haWw/OiBzdHJpbmc7XG4gIHJlZmVyZW5jZTogc3RyaW5nO1xuICBuYXJyYXRpb24/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlnaHRuaW5nSW52b2ljZURhdGEge1xuICBhbW91bnQ6IG51bWJlcjtcbiAgY3VycmVuY3k6IHN0cmluZztcbiAgcmVmZXJlbmNlOiBzdHJpbmc7XG4gIG1lbW8/OiBzdHJpbmc7XG4gIGV4cGlyZXNJbj86IG51bWJlcjsgLy8gc2Vjb25kc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEtZQ0RhdGEge1xuICBmaXJzdE5hbWU6IHN0cmluZztcbiAgbGFzdE5hbWU6IHN0cmluZztcbiAgZGF0ZU9mQmlydGg6IHN0cmluZztcbiAgcGhvbmVOdW1iZXI6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgYWRkcmVzczogc3RyaW5nO1xuICBpZFR5cGU6ICduaW4nIHwgJ3Bhc3Nwb3J0JyB8ICdkcml2ZXJzX2xpY2Vuc2UnO1xuICBpZE51bWJlcjogc3RyaW5nO1xuICBpZERvY3VtZW50PzogRmlsZTtcbiAgcHJvb2ZPZkFkZHJlc3M/OiBGaWxlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnZlcnNpb25EYXRhIHtcbiAgYW1vdW50OiBudW1iZXI7XG4gIGZyb21DdXJyZW5jeTogc3RyaW5nO1xuICB0b0N1cnJlbmN5OiBzdHJpbmc7XG4gIHJlZmVyZW5jZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgQml0bm9iU2VydmljZSB7XG4gIHByaXZhdGUgY29uZmlnOiBCaXRub2JDb25maWc7XG4gIHByaXZhdGUgYmFzZVVSTDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQml0bm9iQ29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5iYXNlVVJMID0gY29uZmlnLmJhc2VVUkwgfHwgXG4gICAgICAoY29uZmlnLmVudmlyb25tZW50ID09PSAncHJvZHVjdGlvbicgXG4gICAgICAgID8gJ2h0dHBzOi8vYXBpLmJpdG5vYi5jb20nIFxuICAgICAgICA6ICdodHRwczovL3NhbmRib3hhcGkuYml0bm9iLmNvbScpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBtYWtlUmVxdWVzdChlbmRwb2ludDogc3RyaW5nLCBtZXRob2Q6IHN0cmluZyA9ICdHRVQnLCBkYXRhPzogYW55KSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSB0aW1lb3V0IGNvbnRyb2xsZXJcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgMTAwMDApOyAvLyAxMCBzZWNvbmQgdGltZW91dFxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVSTH0ke2VuZHBvaW50fWAsIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLmNvbmZpZy5hcGlLZXl9YCxcbiAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiB1bmRlZmluZWQsXG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICB9KTtcblxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEJpdG5vYiBBUEkgRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAtICR7ZXJyb3JEYXRhLm1lc3NhZ2UgfHwgcmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQml0bm9iIFNlcnZpY2UgRXJyb3I6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBIYW5kbGUgc3BlY2lmaWMgbmV0d29yayBlcnJvcnNcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdnZXRhZGRyaW5mbyBFTk9URk9VTkQnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdmZXRjaCBmYWlsZWQnKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQml0bm9iIHNlcnZpY2UgaXMgY3VycmVudGx5IHVuYXZhaWxhYmxlLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JpdG5vYiBzZXJ2aWNlIHJlcXVlc3QgdGltZWQgb3V0LiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIENoZWNrIGlmIEJpdG5vYiBzZXJ2aWNlIGlzIGF2YWlsYWJsZVxuICBhc3luYyBpc1NlcnZpY2VBdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRyeSBhIHNpbXBsZSBwaW5nL2hlYWx0aCBjaGVja1xuICAgICAgYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCgnL2FwaS92MS9waW5nJyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdCaXRub2Igc2VydmljZSB1bmF2YWlsYWJsZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gQXV0aGVudGljYXRpb24gYW5kIFVzZXIgTWFuYWdlbWVudFxuICBhc3luYyBjcmVhdGVXYWxsZXQodXNlckRhdGE6IFdhbGxldERhdGEpIHtcbiAgICB0cnkge1xuICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgc2VydmljZSBpcyBhdmFpbGFibGVcbiAgICAgIGNvbnN0IGlzQXZhaWxhYmxlID0gYXdhaXQgdGhpcy5pc1NlcnZpY2VBdmFpbGFibGUoKTtcbiAgICAgIGlmICghaXNBdmFpbGFibGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCaXRub2Igc2VydmljZSBpcyBjdXJyZW50bHkgdW5hdmFpbGFibGUnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KCcvYXBpL3YxL3dhbGxldHMvY3JlYXRlJywgJ1BPU1QnLCB7XG4gICAgICAgIHBob25lTnVtYmVyOiB1c2VyRGF0YS5waG9uZU51bWJlcixcbiAgICAgICAgZW1haWw6IHVzZXJEYXRhLmVtYWlsLFxuICAgICAgICBmaXJzdE5hbWU6IHVzZXJEYXRhLmZpcnN0TmFtZSxcbiAgICAgICAgbGFzdE5hbWU6IHVzZXJEYXRhLmxhc3ROYW1lLFxuICAgICAgICBkYXRlT2ZCaXJ0aDogdXNlckRhdGEuZGF0ZU9mQmlydGgsXG4gICAgICAgIGFkZHJlc3M6IHVzZXJEYXRhLmFkZHJlc3MsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdCaXRub2Igd2FsbGV0IGNyZWF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgV2FsbGV0IGNyZWF0aW9uIGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRXYWxsZXREZXRhaWxzKHdhbGxldElkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGAvYXBpL3YxL3dhbGxldHMvJHt3YWxsZXRJZH1gKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZXQgd2FsbGV0IGRldGFpbHM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0V2FsbGV0QmFsYW5jZSh3YWxsZXRJZDogc3RyaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChgL2FwaS92MS93YWxsZXRzLyR7d2FsbGV0SWR9L2JhbGFuY2VgKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEJhbGFuY2UgaW5xdWlyeSBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9XG5cbiAgLy8gTGlnaHRuaW5nIE5ldHdvcmsgT3BlcmF0aW9uc1xuICBhc3luYyBzZW5kTGlnaHRuaW5nUGF5bWVudChwYXltZW50RGF0YTogUGF5bWVudERhdGEpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KCcvYXBpL3YxL2xpZ2h0bmluZy9zZW5kJywgJ1BPU1QnLCB7XG4gICAgICAgIGFtb3VudDogcGF5bWVudERhdGEuYW1vdW50LFxuICAgICAgICBjdXJyZW5jeTogcGF5bWVudERhdGEuY3VycmVuY3ksXG4gICAgICAgIHJlY2lwaWVudElkOiBwYXltZW50RGF0YS5yZWNpcGllbnRJZCxcbiAgICAgICAgcGhvbmVOdW1iZXI6IHBheW1lbnREYXRhLnBob25lTnVtYmVyLFxuICAgICAgICBlbWFpbDogcGF5bWVudERhdGEuZW1haWwsXG4gICAgICAgIHJlZmVyZW5jZTogcGF5bWVudERhdGEucmVmZXJlbmNlLFxuICAgICAgICBuYXJyYXRpb246IHBheW1lbnREYXRhLm5hcnJhdGlvbiB8fCAnU0FDQ08gUGxhdGZvcm0gUGF5bWVudCcsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYExpZ2h0bmluZyBwYXltZW50IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjcmVhdGVMaWdodG5pbmdJbnZvaWNlKGludm9pY2VEYXRhOiBMaWdodG5pbmdJbnZvaWNlRGF0YSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJy9hcGkvdjEvbGlnaHRuaW5nL2ludm9pY2UnLCAnUE9TVCcsIHtcbiAgICAgICAgYW1vdW50OiBpbnZvaWNlRGF0YS5hbW91bnQsXG4gICAgICAgIGN1cnJlbmN5OiBpbnZvaWNlRGF0YS5jdXJyZW5jeSxcbiAgICAgICAgcmVmZXJlbmNlOiBpbnZvaWNlRGF0YS5yZWZlcmVuY2UsXG4gICAgICAgIG1lbW86IGludm9pY2VEYXRhLm1lbW8gfHwgJ1NBQ0NPIFBsYXRmb3JtIFBheW1lbnQnLFxuICAgICAgICBleHBpcmVzSW46IGludm9pY2VEYXRhLmV4cGlyZXNJbiB8fCAzNjAwLCAvLyAxIGhvdXIgZGVmYXVsdFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZvaWNlIGNyZWF0aW9uIGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBwYXlMaWdodG5pbmdJbnZvaWNlKGludm9pY2U6IHN0cmluZywgd2FsbGV0SWQ6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJy9hcGkvdjEvbGlnaHRuaW5nL3BheScsICdQT1NUJywge1xuICAgICAgICBpbnZvaWNlLFxuICAgICAgICB3YWxsZXRJZCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52b2ljZSBwYXltZW50IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICAvLyBCaXRjb2luIE9uLUNoYWluIE9wZXJhdGlvbnNcbiAgYXN5bmMgc2VuZEJpdGNvaW4ocGF5bWVudERhdGE6IFBheW1lbnREYXRhICYgeyBhZGRyZXNzOiBzdHJpbmcgfSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJy9hcGkvdjEvYml0Y29pbi9zZW5kJywgJ1BPU1QnLCB7XG4gICAgICAgIGFtb3VudDogcGF5bWVudERhdGEuYW1vdW50LFxuICAgICAgICBhZGRyZXNzOiBwYXltZW50RGF0YS5hZGRyZXNzLFxuICAgICAgICByZWZlcmVuY2U6IHBheW1lbnREYXRhLnJlZmVyZW5jZSxcbiAgICAgICAgbmFycmF0aW9uOiBwYXltZW50RGF0YS5uYXJyYXRpb24gfHwgJ1NBQ0NPIFBsYXRmb3JtIFBheW1lbnQnLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBCaXRjb2luIHRyYW5zYWN0aW9uIGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZW5lcmF0ZUJpdGNvaW5BZGRyZXNzKHdhbGxldElkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGAvYXBpL3YxL2JpdGNvaW4vYWRkcmVzcy8ke3dhbGxldElkfWAsICdQT1NUJyk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBZGRyZXNzIGdlbmVyYXRpb24gZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgIH1cbiAgfVxuXG4gIC8vIEtZQyBPcGVyYXRpb25zXG4gIGFzeW5jIHN1Ym1pdEtZQyhreWNEYXRhOiBLWUNEYXRhKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIE5vdGU6IEZpbGUgdXBsb2FkcyB3b3VsZCBuZWVkIEZvcm1EYXRhIGluc3RlYWQgb2YgSlNPTlxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGt5Y0RhdGEpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBGaWxlKSB7XG4gICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVSTH0vYXBpL3YxL2t5Yy9zdWJtaXRgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy5jb25maWcuYXBpS2V5fWAsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEtZQyBzdWJtaXNzaW9uIGZhaWxlZDogJHtlcnJvckRhdGEubWVzc2FnZSB8fCByZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgS1lDIHN1Ym1pc3Npb24gZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEtZQ1N0YXR1cyh1c2VySWQ6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYC9hcGkvdjEva3ljL3N0YXR1cy8ke3VzZXJJZH1gKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEtZQyBzdGF0dXMgY2hlY2sgZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgIH1cbiAgfVxuXG4gIC8vIEN1cnJlbmN5IENvbnZlcnNpb25cbiAgYXN5bmMgY29udmVydEJUQ1RvRmlhdChjb252ZXJzaW9uRGF0YTogQ29udmVyc2lvbkRhdGEpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KCcvYXBpL3YxL2NvbnZlcnQnLCAnUE9TVCcsIHtcbiAgICAgICAgYW1vdW50OiBjb252ZXJzaW9uRGF0YS5hbW91bnQsXG4gICAgICAgIGZyb21DdXJyZW5jeTogY29udmVyc2lvbkRhdGEuZnJvbUN1cnJlbmN5LFxuICAgICAgICB0b0N1cnJlbmN5OiBjb252ZXJzaW9uRGF0YS50b0N1cnJlbmN5LFxuICAgICAgICByZWZlcmVuY2U6IGNvbnZlcnNpb25EYXRhLnJlZmVyZW5jZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ29udmVyc2lvbiBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0RXhjaGFuZ2VSYXRlcyhiYXNlQ3VycmVuY3k6IHN0cmluZyA9ICdCVEMnKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChgL2FwaS92MS9yYXRlcz9iYXNlPSR7YmFzZUN1cnJlbmN5fWApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBleGNoYW5nZSByYXRlczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICAvLyBUcmFuc2FjdGlvbiBIaXN0b3J5XG4gIGFzeW5jIGdldFRyYW5zYWN0aW9uSGlzdG9yeSh3YWxsZXRJZDogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gNTAsIG9mZnNldDogbnVtYmVyID0gMCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoXG4gICAgICAgIGAvYXBpL3YxL3RyYW5zYWN0aW9ucz93YWxsZXRJZD0ke3dhbGxldElkfSZsaW1pdD0ke2xpbWl0fSZvZmZzZXQ9JHtvZmZzZXR9YFxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZXQgdHJhbnNhY3Rpb24gaGlzdG9yeTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRUcmFuc2FjdGlvbkRldGFpbHModHJhbnNhY3Rpb25JZDogc3RyaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChgL2FwaS92MS90cmFuc2FjdGlvbnMvJHt0cmFuc2FjdGlvbklkfWApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCB0cmFuc2FjdGlvbiBkZXRhaWxzOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdlYmhvb2sgdmVyaWZpY2F0aW9uIChmb3IgYmFja2VuZCB1c2UpXG4gIHZlcmlmeVdlYmhvb2tTaWduYXR1cmUocGF5bG9hZDogc3RyaW5nLCBzaWduYXR1cmU6IHN0cmluZywgc2VjcmV0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAvLyBJbXBsZW1lbnRhdGlvbiB3b3VsZCBkZXBlbmQgb24gQml0bm9iJ3Mgd2ViaG9vayBzaWduYXR1cmUgbWV0aG9kXG4gICAgLy8gVGhpcyBpcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgYWN0dWFsIHZlcmlmaWNhdGlvbiBsb2dpY1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcbiAgICAgIGNvbnN0IGV4cGVjdGVkU2lnbmF0dXJlID0gY3J5cHRvXG4gICAgICAgIC5jcmVhdGVIbWFjKCdzaGEyNTYnLCBzZWNyZXQpXG4gICAgICAgIC51cGRhdGUocGF5bG9hZClcbiAgICAgICAgLmRpZ2VzdCgnaGV4Jyk7XG4gICAgICBcbiAgICAgIHJldHVybiBjcnlwdG8udGltaW5nU2FmZUVxdWFsKFxuICAgICAgICBCdWZmZXIuZnJvbShzaWduYXR1cmUsICdoZXgnKSxcbiAgICAgICAgQnVmZmVyLmZyb20oZXhwZWN0ZWRTaWduYXR1cmUsICdoZXgnKVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignV2ViaG9vayBzaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gSGVhbHRoIGNoZWNrXG4gIGFzeW5jIGhlYWx0aENoZWNrKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJy9hcGkvdjEvaGVhbHRoJyk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSGVhbHRoIGNoZWNrIGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gU2luZ2xldG9uIGluc3RhbmNlIGZvciBmcm9udGVuZCB1c2VcbmxldCBiaXRub2JTZXJ2aWNlSW5zdGFuY2U6IEJpdG5vYlNlcnZpY2UgfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJpdG5vYlNlcnZpY2UoY29uZmlnPzogQml0bm9iQ29uZmlnKTogQml0bm9iU2VydmljZSB7XG4gIGlmICghYml0bm9iU2VydmljZUluc3RhbmNlIHx8IGNvbmZpZykge1xuICAgIGNvbnN0IHNlcnZpY2VDb25maWcgPSBjb25maWcgfHwge1xuICAgICAgYXBpS2V5OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CSVROT0JfQVBJX0tFWSB8fCAnJyxcbiAgICAgIGVudmlyb25tZW50OiAocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQklUTk9CX0VOVklST05NRU5UIGFzICdzYW5kYm94JyB8ICdwcm9kdWN0aW9uJykgfHwgJ3NhbmRib3gnLFxuICAgICAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQklUTk9CX0JBU0VfVVJMLFxuICAgIH07XG5cbiAgICBiaXRub2JTZXJ2aWNlSW5zdGFuY2UgPSBuZXcgQml0bm9iU2VydmljZShzZXJ2aWNlQ29uZmlnKTtcbiAgfVxuXG4gIHJldHVybiBiaXRub2JTZXJ2aWNlSW5zdGFuY2U7XG59XG5cbi8vIERlZmF1bHQgZXhwb3J0IGZvciBjb252ZW5pZW5jZVxuZXhwb3J0IGNvbnN0IGJpdG5vYlNlcnZpY2UgPSBjcmVhdGVCaXRub2JTZXJ2aWNlKCk7XG4iXSwibmFtZXMiOlsiQml0bm9iU2VydmljZSIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiYmFzZVVSTCIsImVudmlyb25tZW50IiwibWFrZVJlcXVlc3QiLCJlbmRwb2ludCIsIm1ldGhvZCIsImRhdGEiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dElkIiwic2V0VGltZW91dCIsImFib3J0IiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJhcGlLZXkiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInVuZGVmaW5lZCIsInNpZ25hbCIsImNsZWFyVGltZW91dCIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsImNhdGNoIiwiRXJyb3IiLCJzdGF0dXMiLCJtZXNzYWdlIiwic3RhdHVzVGV4dCIsImVycm9yIiwiY29uc29sZSIsImluY2x1ZGVzIiwibmFtZSIsImlzU2VydmljZUF2YWlsYWJsZSIsIndhcm4iLCJjcmVhdGVXYWxsZXQiLCJ1c2VyRGF0YSIsImlzQXZhaWxhYmxlIiwicGhvbmVOdW1iZXIiLCJlbWFpbCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZGF0ZU9mQmlydGgiLCJhZGRyZXNzIiwiZ2V0V2FsbGV0RGV0YWlscyIsIndhbGxldElkIiwiZ2V0V2FsbGV0QmFsYW5jZSIsInNlbmRMaWdodG5pbmdQYXltZW50IiwicGF5bWVudERhdGEiLCJhbW91bnQiLCJjdXJyZW5jeSIsInJlY2lwaWVudElkIiwicmVmZXJlbmNlIiwibmFycmF0aW9uIiwiY3JlYXRlTGlnaHRuaW5nSW52b2ljZSIsImludm9pY2VEYXRhIiwibWVtbyIsImV4cGlyZXNJbiIsInBheUxpZ2h0bmluZ0ludm9pY2UiLCJpbnZvaWNlIiwic2VuZEJpdGNvaW4iLCJnZW5lcmF0ZUJpdGNvaW5BZGRyZXNzIiwic3VibWl0S1lDIiwia3ljRGF0YSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwiRmlsZSIsImFwcGVuZCIsInRvU3RyaW5nIiwicmVzdWx0IiwiZ2V0S1lDU3RhdHVzIiwidXNlcklkIiwiY29udmVydEJUQ1RvRmlhdCIsImNvbnZlcnNpb25EYXRhIiwiZnJvbUN1cnJlbmN5IiwidG9DdXJyZW5jeSIsImdldEV4Y2hhbmdlUmF0ZXMiLCJiYXNlQ3VycmVuY3kiLCJnZXRUcmFuc2FjdGlvbkhpc3RvcnkiLCJsaW1pdCIsIm9mZnNldCIsImdldFRyYW5zYWN0aW9uRGV0YWlscyIsInRyYW5zYWN0aW9uSWQiLCJ2ZXJpZnlXZWJob29rU2lnbmF0dXJlIiwicGF5bG9hZCIsInNpZ25hdHVyZSIsInNlY3JldCIsImNyeXB0byIsInJlcXVpcmUiLCJleHBlY3RlZFNpZ25hdHVyZSIsImNyZWF0ZUhtYWMiLCJ1cGRhdGUiLCJkaWdlc3QiLCJ0aW1pbmdTYWZlRXF1YWwiLCJCdWZmZXIiLCJmcm9tIiwiaGVhbHRoQ2hlY2siLCJiaXRub2JTZXJ2aWNlSW5zdGFuY2UiLCJjcmVhdGVCaXRub2JTZXJ2aWNlIiwic2VydmljZUNvbmZpZyIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19CSVROT0JfQVBJX0tFWSIsIk5FWFRfUFVCTElDX0JJVE5PQl9FTlZJUk9OTUVOVCIsIk5FWFRfUFVCTElDX0JJVE5PQl9CQVNFX1VSTCIsImJpdG5vYlNlcnZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/services/bitnob.service.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/isows"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.ts&appDir=%2Fhome%2Ferror51%2Fbitnob%2Fproject%2Fvillage-sacco%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Ferror51%2Fbitnob%2Fproject%2Fvillage-sacco&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();